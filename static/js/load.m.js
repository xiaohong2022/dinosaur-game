/**
 * load.js
 * Copyright (c) 2022 by xiaohong2022
 */
!function(f){window.addEventListener("load",function(){try{f()}catch(a){this.alert(a)}});}(async function(){var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};function addhtml(a,b,c,e){b=document.createElement(b);for(var d in c)b.setAttribute(d,c[d]);b.innerHTML=e;return a.appendChild(b)}var control={content:["\u6050\u9f99\u6e38\u620f\u3002\u5728\u8fd9\u6b3e\u6e38\u620f\u4e2d\uff0c\u60a8\u8981\u534f\u52a9\u4e00\u5934\u6b63\u5728\u8352\u91ce\u4e2d\u5954\u8dd1\u7684\u50cf\u7d20\u5316\u6050\u9f99\u8eb2\u907f\u4ed9\u4eba\u638c\u548c\u7ffc\u624b\u9f99\u3002\u60a8\u53ea\u9700\u8f7b\u8f7b\u6309\u4e00\u4e0b\u7a7a\u683c\u952e\uff0c\u5373\u53ef\u8ba9\u6050\u9f99\u8dc3\u8fc7\u969c\u788d\u7269\u3002","\u3000","\u7535\u8111\u7aef\uff1a\u7a7a\u683c\u952e \u5f00\u59cb\uff0c\u7a7a\u683c\u952e/\u2191 \u952e \u8df3\u8dc3\uff0c\u2193 \u952e \u4e0b\u8e72","\u79fb\u52a8\u7aef\uff1a\u70b9\u51fb\u5c0f\u6050\u9f99 \u5f00\u59cb\uff0c\u7b2c\u4e00\u5173 \u70b9\u51fb\u5c4f\u5e55 \u8df3\u8dc3\uff0c\u7b2c\u4e8c\u5173 \u70b9\u51fb\u5c4f\u5e55 \u4e0b\u8e72"],buttons:[{t:"\u5168\u5c4f\u4f7f\u7528",s:function(a){}},{t:"\u91cd\u65b0\u5f00\u59cb\u6e38\u620f",s:function(a){}},{t:"\u6682\u505c",s:function(a){}}],element:null,contentElement:null,contentElements:[],buttonElements:[],setButtonsText:function(a,b){this.buttonElements[a].innerText=b},setButtonsScript:function(a,b){this.buttonElements[a].onclick=b},setDisableButtons:function(a,b){this.buttonElements[a].disabled=!!b},setDisplayButtons:function(a,b){this.buttonElements[a].hidden=!!b},isStartGame:!1,isFullScreen:!1},isFullScreen=document.fullscreen||!1;document.addEventListener("fullscreenchange",function(a){isFullScreen&&exitFullScreenButton();isFullScreen=!isFullScreen});document.addEventListener("fullscreenerror",function(){alert("\u64cd\u4f5c\u5931\u8d25\uff01")});function restartGame(){Runner().restart()}function fullScreen(){var a=document.documentElement;a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()}function exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function fullScreenButton(){document.querySelector("#control");Runner();Runner();fullScreen();control.contentElement.hidden=!0;control.setButtonsText(0,"\u9000\u51fa\u5168\u5c4f");control.setButtonsScript(0,exitFullScreenButton)}function exitFullScreenButton(){Runner();exitFullscreen();control.contentElement.hidden=!1;control.setButtonsText(0,"\u5168\u5c4f\u4f7f\u7528");control.setButtonsScript(0,fullScreenButton)}function playGame(){Runner().play()}function stopGame(){Runner().stop()}var temp="1",temp2="1",temp3="1";setInterval(function(){var a=Runner().playing;temp!=a&&(a?(control.setButtonsText(2,"\u6682\u505c"),control.setButtonsScript(2,stopGame)):(control.setButtonsText(2,"\u5f00\u59cb"),control.setButtonsScript(2,playGame)),temp=a);a=Runner().crashed;control.isStartGame?temp2!=a&&(a?(control.setDisableButtons(2,1),control.setDisableButtons(1,0)):(control.setDisableButtons(2,0),control.setDisableButtons(1,1)),temp2=a):(control.setDisableButtons(2,1),control.setDisableButtons(1,1));if(a=document.querySelector(".controller"))a=a.className.includes("hidden"),temp3!=a&&(a?(control.setDisplayButtons(1,0),control.setDisplayButtons(0,0)):(control.setDisplayButtons(0,1),control.setDisplayButtons(2,1),control.setDisplayButtons(1,1)),temp3=a)});var isStartGame=!1,interval=setInterval(function(){Runner().playing&&(isStartGame=!0,Runner().crashed=!1,clearInterval(interval))});setInterval(function(){control.isFullScreen=isFullScreen;control.isStartGame=isStartGame});var control_main=addhtml(document.body,"div",{id:"control"},""),control_content_main=addhtml(control_main,"p",{},control.content.map(function(a){return"<span>"+a+"</span>"}).join(""));function addButton(a){var b=addhtml(control_main,"button",{},a.t);control.buttonElements.push(b);b.onclick=a.s}for(var $jscomp$iter$0=$jscomp.makeIterator(control.buttons),$jscomp$key$buttoncfg=$jscomp$iter$0.next();!$jscomp$key$buttoncfg.done;$jscomp$key$buttoncfg=$jscomp$iter$0.next()){var buttoncfg=$jscomp$key$buttoncfg.value;addButton(buttoncfg)}control.contentElement=control_content_main;control.element=control_main;for(var $jscomp$iter$1=$jscomp.makeIterator(document.querySelectorAll("#control>p>*")),$jscomp$key$content_span=$jscomp$iter$1.next();!$jscomp$key$content_span.done;$jscomp$key$content_span=$jscomp$iter$1.next()){var content_span=$jscomp$key$content_span.value;control.contentElements.push(content_span)}control.setButtonsScript(2,stopGame);control.setButtonsScript(1,restartGame);control.setButtonsScript(0,fullScreenButton);(this||window||self||globalThis).ControlRoot=control;})