// Copyright 2012 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be found in the LICENSE file.

"use strict";var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);var loadTimeData,LoadTimeData=function(){this.data_=null};LoadTimeData.prototype.valueExists=function(a){return a in this.data_};LoadTimeData.prototype.getValue=function(a){expect(this.data_,"No data. Did you remember to include strings.js?");var b=this.data_[a];expect("undefined"!==typeof b,"Could not find value for "+a);return b};LoadTimeData.prototype.getString=function(a){var b=this.getValue(a);expectIsType(a,b,"string");return b};LoadTimeData.prototype.getStringF=function(a,b){var c=this.getString(a);if(!c)return"";var d=Array.prototype.slice.call(arguments);d[0]=c;return this.substituteString.apply(this,d)};LoadTimeData.prototype.substituteString=function(a,b){var c=arguments;return a.replace(/\$(.|$|\n)/g,function(d){expect(d.match(/\$[$1-9]/),"Unescaped $ found in localized string.");return"$$"===d?"$":c[d[1]]})};LoadTimeData.prototype.getSubstitutedStringPieces=function(a,b){var c=arguments;return(a.match(/(\$[1-9])|(([^$]|\$([^1-9]|$))+)/g)||[]).map(function(d){return d.match(/^\$[1-9]$/)?{value:c[d[1]],arg:d}:(expect(0===(d.match(/\$/g)||[]).length%2,"Unescaped $ found in localized string."),{value:d.replace(/\$\$/g,"$"),arg:null})})};LoadTimeData.prototype.getBoolean=function(a){var b=this.getValue(a);expectIsType(a,b,"boolean");return b};LoadTimeData.prototype.getInteger=function(a){var b=this.getValue(a);expectIsType(a,b,"number");expect(b===Math.floor(b),"Number isn't integer: "+b);return b};LoadTimeData.prototype.overrideValues=function(a){expect("object"===typeof a,"Replacements must be a dictionary object.");for(var b in a)this.data_[b]=a[b]};LoadTimeData.prototype.resetForTesting=function(a){this.data_=void 0===a?null:a};LoadTimeData.prototype.isInitialized=function(){return null!==this.data_};$jscomp.global.Object.defineProperties(LoadTimeData.prototype,{data:{configurable:!0,enumerable:!0,set:function(a){expect(!this.data_,"Re-setting data.");this.data_=a}}});function expect(a,b){if(!a)throw Error("Unexpected condition on "+document.location.href+": "+b);}function expectIsType(a,b,c){expect(typeof b===c,"["+b+"] ("+a+") is not a "+c)}expect(!loadTimeData,"should only include this file once");loadTimeData=new LoadTimeData;window.loadTimeData=loadTimeData;console.warn("crbug/1173575, non-JS module files deprecated.");